<div>
    <h4>{{title}}</h4>

    <div class="alert alert-success" *ngIf="status == 'success'">
        Has enviado correctamente, miralo en <a [routerLink]="['/mensajes/enviados']">Mensajes enviados</a>
    </div>

    <div class="alert alert-danger" *ngIf="status == 'error'">
        No se ha podido enviar el mensaje correctamente.
    </div>

    <form #formAdd="ngForm" (ngSubmit)="onSubmit(formAdd)">
        <p>
            <label for="">Para:</label>
            <select name="receiver" *ngIf="follows" #receiver="ngModel" [(ngModel)]="message.receiver" class="form-control" required>

                <option *ngFor="let follow of follows" [value]="follow.user._id">
                    {{follow.user.name + ' ' + follow.user.surname + ' (' + follow.user.nick + ')'}}
                </option>

            </select>
        </p>

        <p>
            <label for="text">Mesaje:</label>
            <textarea #text="ngModel" name="text" [(ngModel)]="message.text" class="form-control" required></textarea>
            <span *ngIf="!text.valid && text.touched"></span>
        </p>

        <input type="submit" value="{{title}}" class="btn btn-success">
    </form>
</div>